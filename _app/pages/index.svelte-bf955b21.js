var Ue=Object.defineProperty,Ae=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var he=(r,e,t)=>e in r?Ue(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,de=(r,e)=>{for(var t in e||(e={}))Fe.call(e,t)&&he(r,t,e[t]);if(fe)for(var t of fe(e))Qe.call(e,t)&&he(r,t,e[t]);return r},me=(r,e)=>Ae(r,Oe(e));var ne=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var ge=(r,e,t)=>(ne(r,e,"read from private field"),t?t.call(r):e.get(r)),Q=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},_e=(r,e,t,n)=>(ne(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t);var W=(r,e,t)=>(ne(r,e,"access private method"),t);import{L as Le,S as A,i as O,s as F,e as v,t as N,c as b,a as E,h as B,d as y,g as C,J as p,j,b as T,M as Ie,N as X,O as U,K as S,P as se,Q as le,R as G,T as Se,U as pe,w as L,x as M,y as x,q as P,o as I,B as H,k as Y,m as R,n as Ne,p as Be,V as Ve,v as Me,W as xe}from"../chunks/vendor-8c676714.js";import{c as J}from"../chunks/singletons-d1fb5791.js";const He=async r=>await(await r("https://opensheet.elk.sh/1xOrcYodnYn-mR9WCXsD-x6JxNWusemQD4gXuArqvaeA/Sheet1")).json(),Ye=()=>{const r=Le("__svelte__");return{page:{subscribe:r.page.subscribe},navigating:{subscribe:r.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:r.navigating.subscribe}},session:r.session,updated:r.updated}},Re={subscribe(r){return Ye().page.subscribe(r)}};J.disable_scroll_handling;const ae=J.goto;J.invalidate;J.prefetch;J.prefetch_routes;J.before_navigate;J.after_navigate;function ye(r,e,t){const n=r.slice();return n[5]=e[t],n}function ve(r){let e,t=r[5]+"",n,a;return{c(){e=v("option"),n=N(t),this.h()},l(s){e=b(s,"OPTION",{});var l=E(e);n=B(l,t),l.forEach(y),this.h()},h(){e.__value=a=r[5],e.value=e.__value},m(s,l){C(s,e,l),p(e,n)},p(s,l){l&2&&t!==(t=s[5]+"")&&j(n,t),l&2&&a!==(a=s[5])&&(e.__value=a,e.value=e.__value)},d(s){s&&y(e)}}}function Je(r){let e,t,n,a=r[1].name+"",s,l,o,i=r[1].values,c=[];for(let u=0;u<i.length;u+=1)c[u]=ve(ye(r,i,u));return{c(){e=v("select"),t=v("option"),n=N("Filter by "),s=N(a);for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=b(u,"SELECT",{class:!0});var f=E(e);t=b(f,"OPTION",{});var h=E(t);n=B(h,"Filter by "),s=B(h,a),h.forEach(y);for(let d=0;d<c.length;d+=1)c[d].l(f);f.forEach(y),this.h()},h(){t.__value="",t.value=t.__value,T(e,"class","mr-3"),r[0]===void 0&&Ie(()=>r[3].call(e))},m(u,f){C(u,e,f),p(e,t),p(t,n),p(t,s);for(let h=0;h<c.length;h+=1)c[h].m(e,null);X(e,r[0]),l||(o=[U(e,"change",r[3]),U(e,"change",r[2])],l=!0)},p(u,[f]){if(f&2&&a!==(a=u[1].name+"")&&j(s,a),f&2){i=u[1].values;let h;for(h=0;h<i.length;h+=1){const d=ye(u,i,h);c[h]?c[h].p(d,f):(c[h]=ve(d),c[h].c(),c[h].m(e,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=i.length}f&3&&X(e,u[0])},i:S,o:S,d(u){u&&y(e),se(c,u),l=!1,le(o)}}}function We(r,e,t){let{filter:n={name:"",values:[]}}=e,{selectedValue:a}=e;const s=G(),l=()=>s("filterUpdated",{filterName:n.name,selectedValue:a});function o(){a=Se(this),t(0,a),t(1,n)}return r.$$set=i=>{"filter"in i&&t(1,n=i.filter),"selectedValue"in i&&t(0,a=i.selectedValue)},[a,n,l,o]}class je extends A{constructor(e){super();O(this,e,We,Je,F,{filter:1,selectedValue:0})}}function qe(r){let e,t,n;return{c(){e=v("input"),this.h()},l(a){e=b(a,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){T(e,"type","search"),T(e,"class","mr-3"),T(e,"placeholder","Search")},m(a,s){C(a,e,s),pe(e,r[0]),t||(n=[U(e,"input",r[2]),U(e,"keyup",r[1])],t=!0)},p(a,[s]){s&1&&pe(e,a[0])},i:S,o:S,d(a){a&&y(e),t=!1,le(n)}}}function ze(r,e,t){let{searchValue:n=""}=e;const a=G(),s=o=>{(o.key==="Enter"||o.key==="Backspace"&&!n)&&a("searchSubmitted",{searchValue:n})};function l(){n=this.value,t(0,n)}return r.$$set=o=>{"searchValue"in o&&t(0,n=o.searchValue)},[n,s,l]}class Ge extends A{constructor(e){super();O(this,e,ze,qe,F,{searchValue:0})}}function Xe(r){let e,t,n,a,s,l,o;return{c(){e=v("select"),t=v("option"),n=N("Ascending"),a=v("option"),s=N("Descending"),this.h()},l(i){e=b(i,"SELECT",{class:!0});var c=E(e);t=b(c,"OPTION",{});var u=E(t);n=B(u,"Ascending"),u.forEach(y),a=b(c,"OPTION",{});var f=E(a);s=B(f,"Descending"),f.forEach(y),c.forEach(y),this.h()},h(){t.__value="asc",t.value=t.__value,a.__value="desc",a.value=a.__value,T(e,"class","mx-3"),r[0]===void 0&&Ie(()=>r[2].call(e))},m(i,c){C(i,e,c),p(e,t),p(t,n),p(e,a),p(a,s),X(e,r[0]),l||(o=[U(e,"change",r[2]),U(e,"change",r[1])],l=!0)},p(i,[c]){c&1&&X(e,i[0])},i:S,o:S,d(i){i&&y(e),l=!1,le(o)}}}function Ke(r,e,t){let{orderBy:n="asc"}=e;const a=G(),s=()=>a("orderUpdated",{orderBy:n});function l(){n=Se(this),t(0,n)}return r.$$set=o=>{"orderBy"in o&&t(0,n=o.orderBy)},[n,s,l]}class Ze extends A{constructor(e){super();O(this,e,Ke,Xe,F,{orderBy:0})}}function be(r,e,t){const n=r.slice();return n[8]=e[t],n}function Ee(r){var a;let e,t;function n(...s){return r[5](r[8],...s)}return e=new je({props:{filter:r[8],selectedValue:((a=r[1].find(n))==null?void 0:a.value)||""}}),e.$on("filterUpdated",r[6]),{c(){L(e.$$.fragment)},l(s){M(e.$$.fragment,s)},m(s,l){x(e,s,l),t=!0},p(s,l){var i;r=s;const o={};l&1&&(o.filter=r[8]),l&3&&(o.selectedValue=((i=r[1].find(n))==null?void 0:i.value)||""),e.$set(o)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){H(e,s)}}}function et(r){var $,g;let e,t,n,a,s,l,o,i,c,u,f,h=r[0],d=[];for(let m=0;m<h.length;m+=1)d[m]=Ee(be(r,h,m));const D=m=>I(d[m],1,1,()=>{d[m]=null});return n=new Ge({props:{searchValue:(($=r[1].find(we))==null?void 0:$.value)||""}}),n.$on("searchSubmitted",r[3]),i=new Ze({props:{orderBy:(g=r[1].find(Te))==null?void 0:g.value}}),i.$on("orderUpdated",r[4]),{c(){e=v("div");for(let m=0;m<d.length;m+=1)d[m].c();t=Y(),L(n.$$.fragment),a=Y(),s=v("button"),l=N("Clear"),o=Y(),L(i.$$.fragment),this.h()},l(m){e=b(m,"DIV",{class:!0});var _=E(e);for(let V=0;V<d.length;V+=1)d[V].l(_);t=R(_),M(n.$$.fragment,_),a=R(_),s=b(_,"BUTTON",{class:!0});var k=E(s);l=B(k,"Clear"),k.forEach(y),o=R(_),M(i.$$.fragment,_),_.forEach(y),this.h()},h(){T(s,"class","bg-white px-5"),T(e,"class","flex flex-col md:flex-row justify-center mb-10 p-5 bg-gray-700 w-full")},m(m,_){C(m,e,_);for(let k=0;k<d.length;k+=1)d[k].m(e,null);p(e,t),x(n,e,null),p(e,a),p(e,s),p(s,l),p(e,o),x(i,e,null),c=!0,u||(f=U(s,"click",r[2]),u=!0)},p(m,[_]){var oe,ce;if(_&3){h=m[0];let w;for(w=0;w<h.length;w+=1){const ue=be(m,h,w);d[w]?(d[w].p(ue,_),P(d[w],1)):(d[w]=Ee(ue),d[w].c(),P(d[w],1),d[w].m(e,t))}for(Ne(),w=h.length;w<d.length;w+=1)D(w);Be()}const k={};_&2&&(k.searchValue=((oe=m[1].find(we))==null?void 0:oe.value)||""),n.$set(k);const V={};_&2&&(V.orderBy=(ce=m[1].find(Te))==null?void 0:ce.value),i.$set(V)},i(m){if(!c){for(let _=0;_<h.length;_+=1)P(d[_]);P(n.$$.fragment,m),P(i.$$.fragment,m),c=!0}},o(m){d=d.filter(Boolean);for(let _=0;_<d.length;_+=1)I(d[_]);I(n.$$.fragment,m),I(i.$$.fragment,m),c=!1},d(m){m&&y(e),se(d,m),H(n),H(i),u=!1,f()}}}const we=r=>r.key==="search",Te=r=>r.key==="orderBy";function tt(r,e,t){let{filters:n=[]}=e,{filterParams:a=[]}=e;const s=G(),l=()=>s("clearParams"),o=({detail:{searchValue:f}})=>s("filterUpdated",{filterName:"search",selectedValue:f}),i=({detail:{orderBy:f}})=>s("filterUpdated",{filterName:"orderBy",selectedValue:f}),c=(f,h)=>h.key===f.name;function u(f){Ve.call(this,r,f)}return r.$$set=f=>{"filters"in f&&t(0,n=f.filters),"filterParams"in f&&t(1,a=f.filterParams)},[n,a,l,o,i,c,u]}class rt extends A{constructor(e){super();O(this,e,tt,et,F,{filters:0,filterParams:1})}}function nt(r){let e,t,n;return{c(){e=v("div"),t=v("h1"),n=N("Timeline of AI in Montreal"),this.h()},l(a){e=b(a,"DIV",{class:!0});var s=E(e);t=b(s,"H1",{class:!0});var l=E(t);n=B(l,"Timeline of AI in Montreal"),l.forEach(y),s.forEach(y),this.h()},h(){T(t,"class","font-mono text-4xl text-white"),T(e,"class","flex items-center justify-center h-80 min-h-[30%]")},m(a,s){C(a,e,s),p(e,t),p(t,n)},p:S,i:S,o:S,d(a){a&&y(e)}}}class at extends A{constructor(e){super();O(this,e,null,nt,F,{})}}function st(r){let e,t,n,a,s,l,o=r[0].headline+"",i,c,u,f=r[0].text+"",h,d,D;return{c(){e=v("div"),t=v("p"),n=N(r[1]),a=Y(),s=v("h3"),l=v("button"),i=N(o),c=Y(),u=v("p"),h=N(f),this.h()},l($){e=b($,"DIV",{class:!0});var g=E(e);t=b(g,"P",{class:!0});var m=E(t);n=B(m,r[1]),m.forEach(y),a=R(g),s=b(g,"H3",{id:!0,class:!0});var _=E(s);l=b(_,"BUTTON",{});var k=E(l);i=B(k,o),k.forEach(y),_.forEach(y),c=R(g),u=b(g,"P",{});var V=E(u);h=B(V,f),V.forEach(y),g.forEach(y),this.h()},h(){T(t,"class","mb-2 text-sm"),T(s,"id",r[3]),T(s,"class","mb-3 text-xl"),T(e,"class","p-10 sm:mb-2 xl:-mt-4 text-white border-2 border-white rounded xl:min-w-[35%] xl:max-w-[35%] "+r[2])},m($,g){C($,e,g),p(e,t),p(t,n),p(e,a),p(e,s),p(s,l),p(l,i),p(e,c),p(e,u),p(u,h),d||(D=U(l,"click",r[4]),d=!0)},p($,[g]){g&2&&j(n,$[1]),g&1&&o!==(o=$[0].headline+"")&&j(i,o),g&1&&f!==(f=$[0].text+"")&&j(h,f)},i:S,o:S,d($){$&&y(e),d=!1,D()}}}function lt(r,e,t){let n,a,{entry:s={month:0,year:0,headline:"",text:"",group:"",type:"",endYear:0}}=e,{index:l=0}=e;const o={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},i=l%2===0?"lg:ml-[38%]":"lg:mr-[38%]",c=s.headline.replace(/[^a-zA-Z0-9 ]/g,"").replace(/\s+/g,"-"),u=G(),f=()=>u("idSelected",{id:c});return r.$$set=h=>{"entry"in h&&t(0,s=h.entry),"index"in h&&t(5,l=h.index)},r.$$.update=()=>{r.$$.dirty&1&&t(6,n=o[s.month]?o[s.month]+", ":""),r.$$.dirty&65&&t(1,a=`${s.day} ${n} ${s.year}`)},[s,a,i,c,f,l,n]}class it extends A{constructor(e){super();O(this,e,lt,st,F,{entry:0,index:5})}}function $e(r,e,t){const n=r.slice();return n[3]=e[t],n[5]=t,n}function Pe(r){let e,t;return e=new it({props:{entry:r[3],index:r[5]}}),e.$on("idSelected",r[2]),{c(){L(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,a){x(e,n,a),t=!0},p(n,a){const s={};a&1&&(s.entry=n[3]),e.$set(s)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){I(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function ot(r){let e,t,n=r[0],a=[];for(let l=0;l<n.length;l+=1)a[l]=Pe($e(r,n,l));const s=l=>I(a[l],1,1,()=>{a[l]=null});return{c(){e=v("div");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=b(l,"DIV",{class:!0});var o=E(e);for(let i=0;i<a.length;i+=1)a[i].l(o);o.forEach(y),this.h()},h(){T(e,"class","flex flex-col items-center flex-grow px-5")},m(l,o){C(l,e,o);for(let i=0;i<a.length;i+=1)a[i].m(e,null);t=!0},p(l,[o]){if(o&1){n=l[0];let i;for(i=0;i<n.length;i+=1){const c=$e(l,n,i);a[i]?(a[i].p(c,o),P(a[i],1)):(a[i]=Pe(c),a[i].c(),P(a[i],1),a[i].m(e,null))}for(Ne(),i=n.length;i<a.length;i+=1)s(i);Be()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)P(a[o]);t=!0}},o(l){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)I(a[o]);t=!1},d(l){l&&y(e),se(a,l)}}}function ct(r,e,t){let{entries:n=[]}=e,{selectedEntryId:a}=e;Me(()=>{if(a){const l=document.getElementById(a);l&&l.scrollIntoView({behavior:"smooth"})}});function s(l){Ve.call(this,r,l)}return r.$$set=l=>{"entries"in l&&t(0,n=l.entries),"selectedEntryId"in l&&t(1,a=l.selectedEntryId)},[n,a,s]}class ut extends A{constructor(e){super();O(this,e,ct,ot,F,{entries:0,selectedEntryId:1})}}class ke{constructor(e,t){this.name=e,this.values=t}}var K,ht,Z,dt,ee,mt,te,gt,re,_t,z;class ft{constructor(e){Q(this,K);Q(this,Z);Q(this,ee);Q(this,te);Q(this,re);Q(this,z,void 0);_e(this,z,(t,n)=>n.sort((a,s)=>t==="asc"?new Date(a.year,a.month,a.day).getTime()-new Date(s.year,s.month,s.day).getTime():new Date(s.year,s.month,s.day).getTime()-new Date(a.year,a.month,a.day).getTime())),this.data=e.map(W(this,K,ht))}get eras(){return this.data.filter(e=>e.type==="era")}get groups(){return[...new Set(this.data.filter(e=>e.group!==void 0).map(e=>e.group))]}get entries(){return this.data.filter(e=>e.type===void 0||e.type==="")}filterEntries(e){var a;let t=[...this.entries];t=W(this,Z,dt).call(this,e,t);const n=(a=e.find(s=>s.key==="orderBy"))==null?void 0:a.value;return n&&ge(this,z).call(this,n,t),t}}K=new WeakSet,ht=function(e){return me(de({},e),{day:e.Day&&Number(e.Day),month:e.Month&&Number(e.Month),year:Number(e.Year),headline:e.Headline,text:e.Text,group:e.Group,type:e.Type,endYear:Number(e["End Year"])})},Z=new WeakSet,dt=function(e,t){return e.forEach(n=>{switch(n.key){case"era":t=W(this,ee,mt).call(this,n.value,t);break;case"group":t=W(this,te,gt).call(this,n.value,t);break;case"search":t=W(this,re,_t).call(this,n.value,t);break}}),t},ee=new WeakSet,mt=function(e,t){if(!e)return t;const n=this.eras.find(a=>a.headline===e);if(!n)throw new Error(`Invalid era passed to filter: ${e}`);return t.filter(a=>Number(a.year)>=Number(n.year)&&Number(a.year)<=Number(n.endYear))},te=new WeakSet,gt=function(e,t){return e?t.filter(n=>n.group===e):t},re=new WeakSet,_t=function(e,t){return e?t.filter(n=>{var a,s;return((a=n.headline)==null?void 0:a.toLowerCase().includes(e.toLowerCase()))||((s=n.text)==null?void 0:s.toLowerCase().includes(e.toLowerCase()))}):t},z=new WeakMap;var pt=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},yt=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},vt=(r,e,t)=>(pt(r,e,"access private method"),t),ie,Ce;const De=class{};let q=De;ie=new WeakSet;Ce=function([r,e]){return{key:r,value:e}};yt(q,ie);q.getQueryParams=r=>r.map(vt(De,ie,Ce));q.getQueryParam=(r,e)=>{var t;return(t=e.find(([n])=>n===r))==null?void 0:t[1]};function bt(r){let e,t,n,a,s,l,o;return t=new at({}),a=new rt({props:{filters:r[5],filterParams:r[0]}}),a.$on("filterUpdated",r[2]),a.$on("clearParams",r[3]),l=new ut({props:{entries:r[1],selectedEntryId:r[6]}}),l.$on("idSelected",r[4]),{c(){e=v("div"),L(t.$$.fragment),n=Y(),L(a.$$.fragment),s=Y(),L(l.$$.fragment),this.h()},l(i){e=b(i,"DIV",{class:!0});var c=E(e);M(t.$$.fragment,c),n=R(c),M(a.$$.fragment,c),s=R(c),M(l.$$.fragment,c),c.forEach(y),this.h()},h(){T(e,"class","flex flex-col items-center min-h-screen bg-zinc-900")},m(i,c){C(i,e,c),x(t,e,null),p(e,n),x(a,e,null),p(e,s),x(l,e,null),o=!0},p(i,[c]){const u={};c&1&&(u.filterParams=i[0]),a.$set(u);const f={};c&2&&(f.entries=i[1]),l.$set(f)},i(i){o||(P(t.$$.fragment,i),P(a.$$.fragment,i),P(l.$$.fragment,i),o=!0)},o(i){I(t.$$.fragment,i),I(a.$$.fragment,i),I(l.$$.fragment,i),o=!1},d(i){i&&y(e),H(t),H(a),H(l)}}}const Pt=!1;async function kt({fetch:r}){return{props:{rawTimelineData:await He(r)}}}function Et(r,e,t){let n;xe(r,Re,g=>t(8,n=g));let{rawTimelineData:a}=e;const s=new ft(a),l=()=>q.getQueryParams(Array.from(n.url.searchParams.entries())),o=({detail:{filterName:g,selectedValue:m}})=>{n.url.searchParams.set(g,m),ae(n.url.href),t(0,d=l()),t(1,D=s.filterEntries(d))},i=()=>{Array.from(n.url.searchParams.keys()).forEach(g=>n.url.searchParams.delete(g)),ae(n.url.href),t(0,d=[]),t(1,D=[...s.entries])},c=({detail:{id:g}})=>{n.url.searchParams.set("id",g),ae(n.url.href)},u=new ke("era",s.eras.map(g=>g.headline)),f=new ke("group",s.groups),h=[u,f];let d=l(),D=s.filterEntries(d),$=q.getQueryParam("id",Array.from(n.url.searchParams.entries()));return r.$$set=g=>{"rawTimelineData"in g&&t(7,a=g.rawTimelineData)},[d,D,o,i,c,h,$,a]}class It extends A{constructor(e){super();O(this,e,Et,bt,F,{rawTimelineData:7})}}export{It as default,kt as load,Pt as prerender};
