var ye=Object.defineProperty,$e=Object.defineProperties;var we=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var te=(r,e,t)=>e in r?ye(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,re=(r,e)=>{for(var t in e||(e={}))Ee.call(e,t)&&te(r,t,e[t]);if(ee)for(var t of ee(e))Pe.call(e,t)&&te(r,t,e[t]);return r},ne=(r,e)=>$e(r,we(e));var Te=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var H=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)};var Y=(r,e,t)=>(Te(r,e,"access private method"),t);import{L as ke,S,i as x,s as F,e as b,t as N,c as y,a as $,h as V,d as g,g as C,J as _,j as R,b as w,M as Ne,N as ae,O as J,K as k,P as X,Q as pe,R as K,T as Ve,U as se,w as D,x as I,y as B,q as P,o as T,B as L,k as M,m as O,n as ge,p as _e,V as Ce,W as Se}from"../chunks/vendor-8c676714.js";import{c as A}from"../chunks/singletons-d1fb5791.js";const xe=async r=>await(await r("https://opensheet.elk.sh/1xOrcYodnYn-mR9WCXsD-x6JxNWusemQD4gXuArqvaeA/Sheet1")).json(),Fe=()=>{const r=ke("__svelte__");return{page:{subscribe:r.page.subscribe},navigating:{subscribe:r.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:r.navigating.subscribe}},session:r.session,updated:r.updated}},Ae={subscribe(r){return Fe().page.subscribe(r)}};A.disable_scroll_handling;const le=A.goto;A.invalidate;A.prefetch;A.prefetch_routes;A.before_navigate;A.after_navigate;function ie(r,e,t){const n=r.slice();return n[5]=e[t],n}function oe(r){let e,t=r[5]+"",n,a;return{c(){e=b("option"),n=N(t),this.h()},l(s){e=y(s,"OPTION",{});var l=$(e);n=V(l,t),l.forEach(g),this.h()},h(){e.__value=a=r[5],e.value=e.__value},m(s,l){C(s,e,l),_(e,n)},p(s,l){l&2&&t!==(t=s[5]+"")&&R(n,t),l&2&&a!==(a=s[5])&&(e.__value=a,e.value=e.__value)},d(s){s&&g(e)}}}function Ue(r){let e,t,n,a=r[1].name+"",s,l,c,i=r[1].values,o=[];for(let u=0;u<i.length;u+=1)o[u]=oe(ie(r,i,u));return{c(){e=b("select"),t=b("option"),n=N("Filter by "),s=N(a);for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=y(u,"SELECT",{class:!0});var f=$(e);t=y(f,"OPTION",{});var h=$(t);n=V(h,"Filter by "),s=V(h,a),h.forEach(g);for(let m=0;m<o.length;m+=1)o[m].l(f);f.forEach(g),this.h()},h(){t.__value="",t.value=t.__value,w(e,"class","mr-3"),r[0]===void 0&&Ne(()=>r[3].call(e))},m(u,f){C(u,e,f),_(e,t),_(t,n),_(t,s);for(let h=0;h<o.length;h+=1)o[h].m(e,null);ae(e,r[0]),l||(c=[J(e,"change",r[3]),J(e,"change",r[2])],l=!0)},p(u,[f]){if(f&2&&a!==(a=u[1].name+"")&&R(s,a),f&2){i=u[1].values;let h;for(h=0;h<i.length;h+=1){const m=ie(u,i,h);o[h]?o[h].p(m,f):(o[h]=oe(m),o[h].c(),o[h].m(e,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=i.length}f&3&&ae(e,u[0])},i:k,o:k,d(u){u&&g(e),X(o,u),l=!1,pe(c)}}}function De(r,e,t){let{filter:n={name:"",values:[]}}=e,{selectedValue:a}=e;const s=K(),l=()=>s("filterUpdated",{filterName:n.name,selectedValue:a});function c(){a=Ve(this),t(0,a),t(1,n)}return r.$$set=i=>{"filter"in i&&t(1,n=i.filter),"selectedValue"in i&&t(0,a=i.selectedValue)},[a,n,l,c]}class Ie extends S{constructor(e){super();x(this,e,De,Ue,F,{filter:1,selectedValue:0})}}function Be(r){let e,t,n;return{c(){e=b("input"),this.h()},l(a){e=y(a,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){w(e,"type","search"),w(e,"class","mr-3"),w(e,"placeholder","Search")},m(a,s){C(a,e,s),se(e,r[0]),t||(n=[J(e,"input",r[2]),J(e,"keyup",r[1])],t=!0)},p(a,[s]){s&1&&se(e,a[0])},i:k,o:k,d(a){a&&g(e),t=!1,pe(n)}}}function Le(r,e,t){let{searchValue:n=""}=e;const a=K(),s=c=>{(c.key==="Enter"||c.key==="Backspace")&&a("searchSubmitted",{searchValue:n})};function l(){n=this.value,t(0,n)}return r.$$set=c=>{"searchValue"in c&&t(0,n=c.searchValue)},[n,s,l]}class Me extends S{constructor(e){super();x(this,e,Le,Be,F,{searchValue:0})}}function ce(r,e,t){const n=r.slice();return n[7]=e[t],n}function ue(r){var a;let e,t;function n(...s){return r[4](r[7],...s)}return e=new Ie({props:{filter:r[7],selectedValue:((a=r[1].find(n))==null?void 0:a.value)||""}}),e.$on("filterUpdated",r[5]),{c(){D(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,l){B(e,s,l),t=!0},p(s,l){var i;r=s;const c={};l&1&&(c.filter=r[7]),l&3&&(c.selectedValue=((i=r[1].find(n))==null?void 0:i.value)||""),e.$set(c)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function Oe(r){var m;let e,t,n,a,s,l,c,i,o,u=r[0],f=[];for(let d=0;d<u.length;d+=1)f[d]=ue(ce(r,u,d));const h=d=>T(f[d],1,1,()=>{f[d]=null});return n=new Me({props:{searchValue:((m=r[1].find(fe))==null?void 0:m.value)||""}}),n.$on("searchSubmitted",r[3]),{c(){e=b("div");for(let d=0;d<f.length;d+=1)f[d].c();t=M(),D(n.$$.fragment),a=M(),s=b("button"),l=N("Clear"),this.h()},l(d){e=y(d,"DIV",{class:!0});var p=$(e);for(let U=0;U<f.length;U+=1)f[U].l(p);t=O(p),I(n.$$.fragment,p),a=O(p),s=y(p,"BUTTON",{class:!0});var E=$(s);l=V(E,"Clear"),E.forEach(g),p.forEach(g),this.h()},h(){w(s,"class","bg-white px-5"),w(e,"class","flex flex-col md:flex-row justify-end pb-10 px-5 bg-slate-800")},m(d,p){C(d,e,p);for(let E=0;E<f.length;E+=1)f[E].m(e,null);_(e,t),B(n,e,null),_(e,a),_(e,s),_(s,l),c=!0,i||(o=J(s,"click",r[2]),i=!0)},p(d,[p]){var U;if(p&3){u=d[0];let v;for(v=0;v<u.length;v+=1){const Z=ce(d,u,v);f[v]?(f[v].p(Z,p),P(f[v],1)):(f[v]=ue(Z),f[v].c(),P(f[v],1),f[v].m(e,t))}for(ge(),v=u.length;v<f.length;v+=1)h(v);_e()}const E={};p&2&&(E.searchValue=((U=d[1].find(fe))==null?void 0:U.value)||""),n.$set(E)},i(d){if(!c){for(let p=0;p<u.length;p+=1)P(f[p]);P(n.$$.fragment,d),c=!0}},o(d){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)T(f[p]);T(n.$$.fragment,d),c=!1},d(d){d&&g(e),X(f,d),L(n),i=!1,o()}}}const fe=r=>r.by==="search";function He(r,e,t){let{filters:n=[]}=e,{filterParams:a=[]}=e;const s=K(),l=()=>s("clearParams"),c=({detail:{searchValue:u}})=>s("filterUpdated",{filterName:"search",selectedValue:u}),i=(u,f)=>f.by===u.name;function o(u){Ce.call(this,r,u)}return r.$$set=u=>{"filters"in u&&t(0,n=u.filters),"filterParams"in u&&t(1,a=u.filterParams)},[n,a,l,c,i,o]}class Ye extends S{constructor(e){super();x(this,e,He,Oe,F,{filters:0,filterParams:1})}}function Re(r){let e,t,n;return{c(){e=b("div"),t=b("h1"),n=N("Timeline of AI in Montreal"),this.h()},l(a){e=y(a,"DIV",{class:!0});var s=$(e);t=y(s,"H1",{class:!0});var l=$(t);n=V(l,"Timeline of AI in Montreal"),l.forEach(g),s.forEach(g),this.h()},h(){w(t,"class","font-mono text-4xl text-white"),w(e,"class","flex items-center justify-center bg-gradient-to-b from-slate-700 to-slate-800 h-80 min-h-[30%]")},m(a,s){C(a,e,s),_(e,t),_(t,n)},p:k,i:k,o:k,d(a){a&&g(e)}}}class Je extends S{constructor(e){super();x(this,e,null,Re,F,{})}}function We(r){let e,t,n,a,s,l=r[0].headline+"",c,i,o,u=r[0].text+"",f;return{c(){e=b("div"),t=b("p"),n=N(r[1]),a=M(),s=b("h3"),c=N(l),i=M(),o=b("p"),f=N(u),this.h()},l(h){e=y(h,"DIV",{class:!0});var m=$(e);t=y(m,"P",{class:!0});var d=$(t);n=V(d,r[1]),d.forEach(g),a=O(m),s=y(m,"H3",{class:!0});var p=$(s);c=V(p,l),p.forEach(g),i=O(m),o=y(m,"P",{});var E=$(o);f=V(E,u),E.forEach(g),m.forEach(g),this.h()},h(){w(t,"class","mb-2 text-sm"),w(s,"class","mb-3 text-xl"),w(e,"class","p-10 sm:mb-2 md:-mt-4 text-white border-2 border-white rounded md:min-w-[45%] md:max-w-[45%] "+r[2])},m(h,m){C(h,e,m),_(e,t),_(t,n),_(e,a),_(e,s),_(s,c),_(e,i),_(e,o),_(o,f)},p(h,[m]){m&2&&R(n,h[1]),m&1&&l!==(l=h[0].headline+"")&&R(c,l),m&1&&u!==(u=h[0].text+"")&&R(f,u)},i:k,o:k,d(h){h&&g(e)}}}function qe(r,e,t){let n,a,{entry:s={month:0,year:0,headline:"",text:"",group:"",type:"",endYear:0}}=e,{index:l=0}=e;const c={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},i=l%2===0?"md:ml-[50%]":"md:mr-[50%]";return r.$$set=o=>{"entry"in o&&t(0,s=o.entry),"index"in o&&t(3,l=o.index)},r.$$.update=()=>{r.$$.dirty&1&&t(4,n=c[s.month]?c[s.month]+", ":""),r.$$.dirty&17&&t(1,a=`${s.day} ${n} ${s.year}`)},[s,a,i,l,n]}class je extends S{constructor(e){super();x(this,e,qe,We,F,{entry:0,index:3})}}function he(r,e,t){const n=r.slice();return n[1]=e[t],n[3]=t,n}function me(r){let e,t;return e=new je({props:{entry:r[1],index:r[3]}}),{c(){D(e.$$.fragment)},l(n){I(e.$$.fragment,n)},m(n,a){B(e,n,a),t=!0},p(n,a){const s={};a&1&&(s.entry=n[1]),e.$set(s)},i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){L(e,n)}}}function Ge(r){let e,t,n=r[0],a=[];for(let l=0;l<n.length;l+=1)a[l]=me(he(r,n,l));const s=l=>T(a[l],1,1,()=>{a[l]=null});return{c(){e=b("div");for(let l=0;l<a.length;l+=1)a[l].c();this.h()},l(l){e=y(l,"DIV",{class:!0});var c=$(e);for(let i=0;i<a.length;i+=1)a[i].l(c);c.forEach(g),this.h()},h(){w(e,"class","flex flex-col items-center flex-grow bg-slate-800")},m(l,c){C(l,e,c);for(let i=0;i<a.length;i+=1)a[i].m(e,null);t=!0},p(l,[c]){if(c&1){n=l[0];let i;for(i=0;i<n.length;i+=1){const o=he(l,n,i);a[i]?(a[i].p(o,c),P(a[i],1)):(a[i]=me(o),a[i].c(),P(a[i],1),a[i].m(e,null))}for(ge(),i=n.length;i<a.length;i+=1)s(i);_e()}},i(l){if(!t){for(let c=0;c<n.length;c+=1)P(a[c]);t=!0}},o(l){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)T(a[c]);t=!1},d(l){l&&g(e),X(a,l)}}}function Qe(r,e,t){let{entries:n=[]}=e;return r.$$set=a=>{"entries"in a&&t(0,n=a.entries)},[n]}class Xe extends S{constructor(e){super();x(this,e,Qe,Ge,F,{entries:0})}}class de{constructor(e,t){this.name=e,this.values=t}}var q,ze,j,Ze,G,et,Q,tt;class Ke{constructor(e){H(this,q);H(this,j);H(this,G);H(this,Q);this.data=e.map(Y(this,q,ze))}get eras(){return this.data.filter(e=>e.type==="era")}get groups(){return[...new Set(this.data.filter(e=>e.group!==void 0).map(e=>e.group))]}get entries(){return this.data.filter(e=>e.type===void 0||e.type==="")}filterEntries(e){let t=[...this.entries];return e.forEach(n=>{switch(n.by){case"era":t=Y(this,j,Ze).call(this,n.value,t);break;case"group":t=Y(this,G,et).call(this,n.value,t);break;case"search":t=Y(this,Q,tt).call(this,n.value,t);break}}),t}}q=new WeakSet,ze=function(e){return ne(re({},e),{day:e.Day&&Number(e.Day),month:e.Month&&Number(e.Month),year:Number(e.Year),headline:e.Headline,text:e.Text,group:e.Group,type:e.Type,endYear:Number(e["End Year"])})},j=new WeakSet,Ze=function(e,t){if(!e)return t;const n=this.eras.find(a=>a.headline===e);if(!n)throw new Error(`Invalid era passed to filter: ${e}`);return t.filter(a=>Number(a.year)>=Number(n.year)&&Number(a.year)<=Number(n.endYear))},G=new WeakSet,et=function(e,t){return e?t.filter(n=>n.group===e):t},Q=new WeakSet,tt=function(e,t){return e?t.filter(n=>{var a,s;return((a=n.headline)==null?void 0:a.toLowerCase().includes(e.toLowerCase()))||((s=n.text)==null?void 0:s.toLowerCase().includes(e.toLowerCase()))}):t};var rt=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},nt=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},at=(r,e,t)=>(rt(r,e,"access private method"),t),z,ve;const be=class{};let W=be;z=new WeakSet;ve=function([r,e]){return{by:r,value:e}};nt(W,z);W.getFilterParams=r=>r.map(at(be,z,ve));function st(r){let e,t,n,a,s,l,c;return t=new Je({}),a=new Ye({props:{filters:r[2],filterParams:r[0]}}),a.$on("filterUpdated",r[3]),a.$on("clearParams",r[4]),l=new Xe({props:{entries:r[1]}}),{c(){e=b("div"),D(t.$$.fragment),n=M(),D(a.$$.fragment),s=M(),D(l.$$.fragment),this.h()},l(i){e=y(i,"DIV",{class:!0});var o=$(e);I(t.$$.fragment,o),n=O(o),I(a.$$.fragment,o),s=O(o),I(l.$$.fragment,o),o.forEach(g),this.h()},h(){w(e,"class","flex flex-col h-screen")},m(i,o){C(i,e,o),B(t,e,null),_(e,n),B(a,e,null),_(e,s),B(l,e,null),c=!0},p(i,[o]){const u={};o&1&&(u.filterParams=i[0]),a.$set(u);const f={};o&2&&(f.entries=i[1]),l.$set(f)},i(i){c||(P(t.$$.fragment,i),P(a.$$.fragment,i),P(l.$$.fragment,i),c=!0)},o(i){T(t.$$.fragment,i),T(a.$$.fragment,i),T(l.$$.fragment,i),c=!1},d(i){i&&g(e),L(t),L(a),L(l)}}}const ut=!1;async function ft({fetch:r}){return{props:{rawTimelineData:await xe(r)}}}function lt(r,e,t){let n;Se(r,Ae,m=>t(6,n=m));let{rawTimelineData:a}=e;const s=new Ke(a),l=new de("era",s.eras.map(m=>m.headline)),c=new de("group",s.groups),i=[l,c];let o=W.getFilterParams(Array.from(n.url.searchParams.entries())),u=s.filterEntries(o);const f=({detail:{filterName:m,selectedValue:d}})=>{n.url.searchParams.set(m,d),le(n.url.href),t(0,o=W.getFilterParams(Array.from(n.url.searchParams.entries()))),t(1,u=s.filterEntries(o))},h=()=>{Array.from(n.url.searchParams.keys()).forEach(m=>n.url.searchParams.delete(m)),le(n.url.href),t(0,o=[]),t(1,u=[...s.entries])};return r.$$set=m=>{"rawTimelineData"in m&&t(5,a=m.rawTimelineData)},[o,u,i,f,h,a]}class ht extends S{constructor(e){super();x(this,e,lt,st,F,{rawTimelineData:5})}}export{ht as default,ft as load,ut as prerender};
