var Oe=Object.defineProperty,Ae=Object.defineProperties;var Le=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable;var fe=(r,e,t)=>e in r?Oe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,he=(r,e)=>{for(var t in e||(e={}))Fe.call(e,t)&&fe(r,t,e[t]);if(ue)for(var t of ue(e))Qe.call(e,t)&&fe(r,t,e[t]);return r},de=(r,e)=>Ae(r,Le(e));var le=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var me=(r,e,t)=>(le(r,e,"read from private field"),t?t.call(r):e.get(r)),L=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},pe=(r,e,t,a)=>(le(r,e,"write to private field"),a?a.call(r,t):e.set(r,t),t);var W=(r,e,t)=>(le(r,e,"access private method"),t);import{L as He,S as Y,i as R,s as x,e as y,t as S,c as b,a as w,h as B,d as g,g as I,J as v,j,b as E,M as Se,N as X,O,K as A,P as se,Q as ie,R as q,T as Be,U as _e,w as F,x as Q,y as H,q as k,o as $,B as M,k as C,m as U,n as Ne,p as Ve,V as Ce,W as Me,v as Ye,X as Re}from"../chunks/vendor-7ae66676.js";import{c as J}from"../chunks/singletons-d1fb5791.js";import{H as xe}from"../chunks/Header-00d38458.js";const Je=async r=>await(await r("https://opensheet.elk.sh/14ULsYVKSuyxj06Ng09lUK18LCkwei_GiwZf5zjixWeQ/_od1_")).json(),We=()=>{const r=He("__svelte__");return{page:{subscribe:r.page.subscribe},navigating:{subscribe:r.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:r.navigating.subscribe}},session:r.session,updated:r.updated}},je={subscribe(r){return We().page.subscribe(r)}};J.disable_scroll_handling;const ge=J.goto;J.invalidate;J.prefetch;J.prefetch_routes;J.before_navigate;J.after_navigate;function ve(r,e,t){const a=r.slice();return a[5]=e[t],a}function ye(r){let e,t=r[5]+"",a,n;return{c(){e=y("option"),a=S(t),this.h()},l(l){e=b(l,"OPTION",{});var i=w(e);a=B(i,t),i.forEach(g),this.h()},h(){e.__value=n=r[5],e.value=e.__value},m(l,i){I(l,e,i),v(e,a)},p(l,i){i&2&&t!==(t=l[5]+"")&&j(a,t),i&2&&n!==(n=l[5])&&(e.__value=n,e.value=e.__value)},d(l){l&&g(e)}}}function ze(r){let e,t,a,n=r[1].name+"",l,i,o,s=r[1].values,c=[];for(let h=0;h<s.length;h+=1)c[h]=ye(ve(r,s,h));return{c(){e=y("select"),t=y("option"),a=S("Filter by "),l=S(n);for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){e=b(h,"SELECT",{class:!0});var f=w(e);t=b(f,"OPTION",{});var d=w(t);a=B(d,"Filter by "),l=B(d,n),d.forEach(g);for(let m=0;m<c.length;m+=1)c[m].l(f);f.forEach(g),this.h()},h(){t.__value="",t.value=t.__value,E(e,"class","mr-3 bg-neutral-800 text-white p-2 mb-4"),r[0]===void 0&&Se(()=>r[3].call(e))},m(h,f){I(h,e,f),v(e,t),v(t,a),v(t,l);for(let d=0;d<c.length;d+=1)c[d].m(e,null);X(e,r[0]),i||(o=[O(e,"change",r[3]),O(e,"change",r[2])],i=!0)},p(h,[f]){if(f&2&&n!==(n=h[1].name+"")&&j(l,n),f&2){s=h[1].values;let d;for(d=0;d<s.length;d+=1){const m=ve(h,s,d);c[d]?c[d].p(m,f):(c[d]=ye(m),c[d].c(),c[d].m(e,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=s.length}f&3&&X(e,h[0])},i:A,o:A,d(h){h&&g(e),se(c,h),i=!1,ie(o)}}}function Ke(r,e,t){let{filter:a={name:"",values:[]}}=e,{selectedValue:n}=e;const l=q(),i=()=>l("filterUpdated",{filterName:a.name,selectedValue:n});function o(){n=Be(this),t(0,n),t(1,a)}return r.$$set=s=>{"filter"in s&&t(1,a=s.filter),"selectedValue"in s&&t(0,n=s.selectedValue)},[n,a,i,o]}class Ge extends Y{constructor(e){super();R(this,e,Ke,ze,x,{filter:1,selectedValue:0})}}function Ze(r){let e,t,a;return{c(){e=y("input"),this.h()},l(n){e=b(n,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){E(e,"type","search"),E(e,"class","mr-3 bg-neutral-800 text-white p-2 mb-4"),E(e,"placeholder","Search")},m(n,l){I(n,e,l),_e(e,r[0]),t||(a=[O(e,"input",r[2]),O(e,"keyup",r[1])],t=!0)},p(n,[l]){l&1&&_e(e,n[0])},i:A,o:A,d(n){n&&g(e),t=!1,ie(a)}}}function qe(r,e,t){let{searchValue:a=""}=e;const n=q(),l=o=>{(o.key==="Enter"||o.key==="Backspace"&&!a)&&n("searchSubmitted",{searchValue:a})};function i(){a=this.value,t(0,a)}return r.$$set=o=>{"searchValue"in o&&t(0,a=o.searchValue)},[a,l,i]}class Xe extends Y{constructor(e){super();R(this,e,qe,Ze,x,{searchValue:0})}}function et(r){let e,t,a,n,l,i,o;return{c(){e=y("select"),t=y("option"),a=S("Ascending"),n=y("option"),l=S("Descending"),this.h()},l(s){e=b(s,"SELECT",{class:!0,placeholder:!0});var c=w(e);t=b(c,"OPTION",{});var h=w(t);a=B(h,"Ascending"),h.forEach(g),n=b(c,"OPTION",{});var f=w(n);l=B(f,"Descending"),f.forEach(g),c.forEach(g),this.h()},h(){t.__value="asc",t.value=t.__value,n.__value="desc",n.value=n.__value,E(e,"class","mr-2 bg-neutral-800 text-white p-2 mb-4"),E(e,"placeholder","Order By"),r[0]===void 0&&Se(()=>r[3].call(e))},m(s,c){I(s,e,c),v(e,t),v(t,a),v(e,n),v(n,l),X(e,r[0]),i||(o=[O(e,"change",r[3]),O(e,"change",r[1])],i=!0)},p(s,[c]){c&1&&X(e,s[0])},i:A,o:A,d(s){s&&g(e),i=!1,ie(o)}}}function tt(r,e,t){let a,{orderBy:n="asc"}=e;const l=q(),i=()=>l("orderUpdated",{order:a});function o(){a=Be(this),t(0,a),t(2,n)}return r.$$set=s=>{"orderBy"in s&&t(2,n=s.orderBy)},r.$$.update=()=>{r.$$.dirty&4&&t(0,a=n||"asc")},[a,i,n,o]}class rt extends Y{constructor(e){super();R(this,e,tt,et,x,{orderBy:2})}}function be(r,e,t){const a=r.slice();return a[8]=e[t],a}function we(r){var n;let e,t;function a(...l){return r[5](r[8],...l)}return e=new Ge({props:{filter:r[8],selectedValue:((n=r[1].find(a))==null?void 0:n.value)||""}}),e.$on("filterUpdated",r[6]),{c(){F(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,i){H(e,l,i),t=!0},p(l,i){var s;r=l;const o={};i&1&&(o.filter=r[8]),i&3&&(o.selectedValue=((s=r[1].find(a))==null?void 0:s.value)||""),e.$set(o)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function nt(r){var D,_;let e,t,a,n,l,i,o,s,c,h,f;t=new rt({props:{orderBy:(D=r[1].find(Ee))==null?void 0:D.value}}),t.$on("orderUpdated",r[4]);let d=r[0],m=[];for(let u=0;u<d.length;u+=1)m[u]=we(be(r,d,u));const N=u=>$(m[u],1,1,()=>{m[u]=null});return l=new Xe({props:{searchValue:((_=r[1].find(Te))==null?void 0:_.value)||""}}),l.$on("searchSubmitted",r[3]),{c(){e=y("div"),F(t.$$.fragment),a=C();for(let u=0;u<m.length;u+=1)m[u].c();n=C(),F(l.$$.fragment),i=C(),o=y("button"),s=S("Clear"),this.h()},l(u){e=b(u,"DIV",{class:!0});var p=w(e);Q(t.$$.fragment,p),a=U(p);for(let V=0;V<m.length;V+=1)m[V].l(p);n=U(p),Q(l.$$.fragment,p),i=U(p),o=b(p,"BUTTON",{class:!0});var P=w(o);s=B(P,"Clear"),P.forEach(g),p.forEach(g),this.h()},h(){E(o,"class","px-5 bg-neutral-800 text-white hover:bg-green-600 mb-4 mr-2 min-h-[45px]"),E(e,"class","flex flex-col md:flex-row justify-center mb-10 p-5 w-full border-neutral-700 border-b-2")},m(u,p){I(u,e,p),H(t,e,null),v(e,a);for(let P=0;P<m.length;P+=1)m[P].m(e,null);v(e,n),H(l,e,null),v(e,i),v(e,o),v(o,s),c=!0,h||(f=O(o,"click",r[2]),h=!0)},p(u,[p]){var z,K;const P={};if(p&2&&(P.orderBy=(z=u[1].find(Ee))==null?void 0:z.value),t.$set(P),p&3){d=u[0];let T;for(T=0;T<d.length;T+=1){const ce=be(u,d,T);m[T]?(m[T].p(ce,p),k(m[T],1)):(m[T]=we(ce),m[T].c(),k(m[T],1),m[T].m(e,n))}for(Ne(),T=d.length;T<m.length;T+=1)N(T);Ve()}const V={};p&2&&(V.searchValue=((K=u[1].find(Te))==null?void 0:K.value)||""),l.$set(V)},i(u){if(!c){k(t.$$.fragment,u);for(let p=0;p<d.length;p+=1)k(m[p]);k(l.$$.fragment,u),c=!0}},o(u){$(t.$$.fragment,u),m=m.filter(Boolean);for(let p=0;p<m.length;p+=1)$(m[p]);$(l.$$.fragment,u),c=!1},d(u){u&&g(e),M(t),se(m,u),M(l),h=!1,f()}}}const Ee=r=>r.key==="orderBy",Te=r=>r.key==="search";function at(r,e,t){let{filters:a=[]}=e,{filterParams:n=[]}=e;const l=q(),i=()=>l("clearParams"),o=({detail:{searchValue:f}})=>l("filterUpdated",{filterName:"search",selectedValue:f}),s=({detail:{orderBy:f}})=>l("filterUpdated",{filterName:"orderBy",selectedValue:f}),c=(f,d)=>d.key===f.name;function h(f){Ce.call(this,r,f)}return r.$$set=f=>{"filters"in f&&t(0,a=f.filters),"filterParams"in f&&t(1,n=f.filterParams)},[a,n,i,o,s,c,h]}class lt extends Y{constructor(e){super();R(this,e,at,nt,x,{filters:0,filterParams:1})}}function ke(r){let e,t,a,n,l=r[0].theme+"",i;return{c(){e=y("div"),t=y("div"),a=C(),n=y("p"),i=S(l),this.h()},l(o){e=b(o,"DIV",{class:!0});var s=w(e);t=b(s,"DIV",{class:!0}),w(t).forEach(g),s.forEach(g),a=U(o),n=b(o,"P",{class:!0});var c=w(n);i=B(c,l),c.forEach(g),this.h()},h(){E(t,"class","flex-grow border-t border-gray-400 mt-7"),E(e,"class","flex"),E(n,"class","italic")},m(o,s){I(o,e,s),v(e,t),I(o,a,s),I(o,n,s),v(n,i)},p(o,s){s&1&&l!==(l=o[0].theme+"")&&j(i,l)},d(o){o&&g(e),o&&g(a),o&&g(n)}}}function st(r){let e,t,a,n,l,i,o=r[0].headline+"",s,c,h,f=r[0].text+"",d,m,N,D,_=r[0].theme&&ke(r);return{c(){e=y("div"),t=y("p"),a=S(r[1]),n=C(),l=y("h3"),i=y("button"),s=S(o),c=C(),h=y("p"),d=S(f),m=C(),_&&_.c(),this.h()},l(u){e=b(u,"DIV",{class:!0});var p=w(e);t=b(p,"P",{class:!0});var P=w(t);a=B(P,r[1]),P.forEach(g),n=U(p),l=b(p,"H3",{id:!0,class:!0});var V=w(l);i=b(V,"BUTTON",{class:!0});var z=w(i);s=B(z,o),z.forEach(g),V.forEach(g),c=U(p),h=b(p,"P",{});var K=w(h);d=B(K,f),K.forEach(g),m=U(p),_&&_.l(p),p.forEach(g),this.h()},h(){E(t,"class","mb-2 text-sm"),E(i,"class","text-left hover:text-green-400"),E(l,"id",r[3]),E(l,"class","mb-3 text-xl"),E(e,"class","p-10 sm:mb-2 xl:-mt-4 text-white border-2 border-neutral-700 xl:min-w-[35%] xl:max-w-[35%] "+r[2]+" bg-neutral-800")},m(u,p){I(u,e,p),v(e,t),v(t,a),v(e,n),v(e,l),v(l,i),v(i,s),v(e,c),v(e,h),v(h,d),v(e,m),_&&_.m(e,null),N||(D=O(i,"click",Me(r[4])),N=!0)},p(u,[p]){p&2&&j(a,u[1]),p&1&&o!==(o=u[0].headline+"")&&j(s,o),p&1&&f!==(f=u[0].text+"")&&j(d,f),u[0].theme?_?_.p(u,p):(_=ke(u),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i:A,o:A,d(u){u&&g(e),_&&_.d(),N=!1,D()}}}function it(r,e,t){let a,n,{entry:l={month:0,year:0,headline:"",text:"",theme:"",type:"",endYear:0}}=e,{index:i=0}=e;const o={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},s=i%2===0?"lg:ml-[38%]":"lg:mr-[38%]",c=l.headline.replace(/[^a-zA-Z0-9 ]/g,"").replace(/\s+/g,"-"),h=q(),f=()=>h("idSelected",{id:c});return r.$$set=d=>{"entry"in d&&t(0,l=d.entry),"index"in d&&t(5,i=d.index)},r.$$.update=()=>{r.$$.dirty&1&&t(6,a=o[l.month]?o[l.month]+", ":""),r.$$.dirty&65&&t(1,n=`${l.day} ${a} ${l.year}`)},[l,n,s,c,f,i,a]}class ot extends Y{constructor(e){super();R(this,e,it,st,x,{entry:0,index:5})}}function Pe(r,e,t){const a=r.slice();return a[4]=e[t],a[6]=t,a}function $e(r){let e,t;return e=new ot({props:{entry:r[4],index:r[6]}}),e.$on("idSelected",r[2]),{c(){F(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,n){H(e,a,n),t=!0},p(a,n){const l={};n&1&&(l.entry=a[4]),e.$set(l)},i(a){t||(k(e.$$.fragment,a),t=!0)},o(a){$(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function ct(r){let e,t,a=r[0],n=[];for(let i=0;i<a.length;i+=1)n[i]=$e(Pe(r,a,i));const l=i=>$(n[i],1,1,()=>{n[i]=null});return{c(){e=y("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=b(i,"DIV",{class:!0});var o=w(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(g),this.h()},h(){E(e,"class","flex flex-col items-center flex-grow px-5")},m(i,o){I(i,e,o);for(let s=0;s<n.length;s+=1)n[s].m(e,null);t=!0},p(i,[o]){if(o&1){a=i[0];let s;for(s=0;s<a.length;s+=1){const c=Pe(i,a,s);n[s]?(n[s].p(c,o),k(n[s],1)):(n[s]=$e(c),n[s].c(),k(n[s],1),n[s].m(e,null))}for(Ne(),s=a.length;s<n.length;s+=1)l(s);Ve()}},i(i){if(!t){for(let o=0;o<a.length;o+=1)k(n[o]);t=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)$(n[o]);t=!1},d(i){i&&g(e),se(n,i)}}}function ut(r,e,t){let{entries:a=[]}=e,{selectedEntryId:n}=e;const l=()=>{if(n){const o=document.getElementById(n);setTimeout(function(){o==null||o.scrollIntoView({behavior:"smooth",block:"start"})},100)}};Ye(()=>{l()});function i(o){Ce.call(this,r,o)}return r.$$set=o=>{"entries"in o&&t(0,a=o.entries),"selectedEntryId"in o&&t(1,n=o.selectedEntryId)},[a,n,i]}class ft extends Y{constructor(e){super();R(this,e,ut,ct,x,{entries:0,selectedEntryId:1})}}class Ie{constructor(e,t){this.name=e,this.values=t}}var ee,dt,te,mt,re,pt,ne,_t,ae,gt,Z;class ht{constructor(e){L(this,ee);L(this,te);L(this,re);L(this,ne);L(this,ae);L(this,Z,void 0);pe(this,Z,(t,a)=>a.sort((n,l)=>t==="asc"?new Date(n.year,n.month,n.day).getTime()-new Date(l.year,l.month,l.day).getTime():new Date(l.year,l.month,l.day).getTime()-new Date(n.year,n.month,n.day).getTime())),this.data=e.map(W(this,ee,dt))}get eras(){return this.data.filter(e=>e.type==="era")}get themes(){return[...new Set(this.data.filter(e=>e.theme!==void 0).map(e=>e.theme.split(",").map(t=>t.trim())).flat().filter(e=>e!=="").map(e=>`${e.charAt(0).toUpperCase()}${e.slice(1).toLowerCase()}`).sort())]}get entries(){return this.data.filter(e=>e.type===void 0||e.type==="")}filterEntries(e){var n;let t=[...this.entries];t=W(this,te,mt).call(this,e,t);const a=(n=e.find(l=>l.key==="orderBy"))==null?void 0:n.value;return a&&me(this,Z).call(this,a,t),t}}ee=new WeakSet,dt=function(e){return de(he({},e),{day:e.Day&&Number(e.Day),month:e.Month&&Number(e.Month),year:Number(e.Year),headline:e.Headline,text:e.Text||"",theme:e.Group,type:e.Type,endYear:Number(e["End Year"])})},te=new WeakSet,mt=function(e,t){return e.forEach(a=>{switch(a.key){case"era":t=W(this,re,pt).call(this,a.value,t);break;case"theme":t=W(this,ne,_t).call(this,a.value,t);break;case"search":t=W(this,ae,gt).call(this,a.value,t);break}}),t},re=new WeakSet,pt=function(e,t){if(!e)return t;const a=this.eras.find(n=>n.headline===e);if(!a)throw new Error(`Invalid era passed to filter: ${e}`);return t.filter(n=>Number(n.year)>=Number(a.year)&&Number(n.year)<=Number(a.endYear))},ne=new WeakSet,_t=function(e,t){return e?t.filter(a=>a.theme===e):t},ae=new WeakSet,gt=function(e,t){return e?t.filter(a=>{var n,l;return((n=a.headline)==null?void 0:n.toLowerCase().includes(e.toLowerCase()))||((l=a.text)==null?void 0:l.toLowerCase().includes(e.toLowerCase()))}):t},Z=new WeakMap;var vt=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},yt=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},bt=(r,e,t)=>(vt(r,e,"access private method"),t),oe,Ue;const De=class{};let G=De;oe=new WeakSet;Ue=function([r,e]){return{key:r,value:e}};yt(G,oe);G.getQueryParams=r=>r.map(bt(De,oe,Ue));G.getQueryParam=(r,e)=>{var t;return(t=e.find(([a])=>a===r))==null?void 0:t[1]};function wt(r){let e,t,a,n,l,i,o;return t=new xe({props:{link:"/about",linkText:"About"}}),n=new lt({props:{filters:r[6],filterParams:r[0]}}),n.$on("filterUpdated",r[3]),n.$on("clearParams",r[4]),i=new ft({props:{entries:r[1],selectedEntryId:r[2]}}),i.$on("idSelected",r[5]),{c(){e=y("div"),F(t.$$.fragment),a=C(),F(n.$$.fragment),l=C(),F(i.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var c=w(e);Q(t.$$.fragment,c),a=U(c),Q(n.$$.fragment,c),l=U(c),Q(i.$$.fragment,c),c.forEach(g),this.h()},h(){E(e,"class","flex flex-col items-center min-h-screen bg-zinc-900")},m(s,c){I(s,e,c),H(t,e,null),v(e,a),H(n,e,null),v(e,l),H(i,e,null),o=!0},p(s,[c]){const h={};c&1&&(h.filterParams=s[0]),n.$set(h);const f={};c&2&&(f.entries=s[1]),c&4&&(f.selectedEntryId=s[2]),i.$set(f)},i(s){o||(k(t.$$.fragment,s),k(n.$$.fragment,s),k(i.$$.fragment,s),o=!0)},o(s){$(t.$$.fragment,s),$(n.$$.fragment,s),$(i.$$.fragment,s),o=!1},d(s){s&&g(e),M(t),M(n),M(i)}}}const It=!1;async function St({fetch:r}){return{props:{rawTimelineData:await Je(r)}}}function Et(r,e,t){let a;Re(r,je,_=>t(8,a=_));let{rawTimelineData:n}=e;const l=new ht(n),i=()=>G.getQueryParams(Array.from(a.url.searchParams.entries())),o=({detail:{filterName:_,selectedValue:u}})=>{a.url.searchParams.set(_,u),ge(a.url.href),t(0,m=i()),t(1,N=l.filterEntries(m))},s=()=>{Array.from(a.url.searchParams.keys()).forEach(_=>a.url.searchParams.delete(_)),ge(a.url.href),t(0,m=[]),t(1,N=[...l.entries])},c=({detail:{id:_}})=>{a.url.searchParams.set("id",_),t(2,D=_),window.location.href=a.url.href},h=new Ie("era",l.eras.map(_=>_.headline)),f=new Ie("theme",l.themes),d=[h,f];let m=i(),N=l.filterEntries(m),D=G.getQueryParam("id",Array.from(a.url.searchParams.entries()));return r.$$set=_=>{"rawTimelineData"in _&&t(7,n=_.rawTimelineData)},[m,N,D,o,s,c,d,n]}class Bt extends Y{constructor(e){super();R(this,e,Et,wt,x,{rawTimelineData:7})}}export{Bt as default,St as load,It as prerender};
